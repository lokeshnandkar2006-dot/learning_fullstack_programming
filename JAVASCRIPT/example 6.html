<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <title>Arrays & Objects Examples</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      h1 {
        color: white;
        text-align: center;
        margin-bottom: 30px;
        font-size: 2.5em;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .example-box {
        background: white;
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .example-box h2 {
        color: #667eea;
        margin-bottom: 20px;
        border-bottom: 3px solid #667eea;
        padding-bottom: 10px;
      }

      /* Example 1: Shopping Cart */
      .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }

      .product-card {
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        padding: 15px;
        text-align: center;
        transition: transform 0.3s, box-shadow 0.3s;
      }

      .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .product-card h3 {
        color: #333;
        margin: 10px 0;
      }

      .product-card .price {
        color: #667eea;
        font-size: 1.4em;
        font-weight: bold;
        margin: 10px 0;
      }

      .product-card button {
        background: #667eea;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1em;
        transition: background 0.3s;
      }

      .product-card i {
        color: #667eea;
        margin-bottom: 10px;
      }

      .cart-section {
        background: #f5f5f5;
        padding: 20px;
        border-radius: 10px;
        margin-top: 20px;
      }

      .cart-item {
        background: white;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .cart-item button {
        background: #ff4757;
        color: white;
        border: none;
        padding: 5px 15px;
        border-radius: 5px;
        cursor: pointer;
      }

      .cart-total {
        font-size: 1.5em;
        font-weight: bold;
        color: #667eea;
        text-align: right;
        margin-top: 15px;
      }

      /* Example 2: User Dashboard */
      .user-form {
        display: grid;
        gap: 15px;
        margin-bottom: 20px;
      }

      .user-form input,
      .user-form select {
        padding: 12px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 1em;
      }

      .user-form button {
        background: #667eea;
        color: white;
        border: none;
        padding: 12px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1em;
        font-weight: bold;
      }

      .user-cards {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 15px;
      }

      .user-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .user-card h3 {
        margin-bottom: 10px;
      }

      .user-card p {
        margin: 5px 0;
        opacity: 0.9;
      }

      .user-card button {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 2px solid white;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 10px;
      }

      /* Example 3: Task Filter */
      .filter-section {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .filter-btn {
        padding: 10px 20px;
        border: 2px solid #667eea;
        background: white;
        color: #667eea;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s;
      }

      .filter-btn.active {
        background: #667eea;
        color: white;
      }

      .task-list {
        list-style: none;
      }

      .task-item {
        background: #f5f5f5;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 10px;
        border-left: 5px solid #667eea;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .task-item.completed {
        border-left-color: #2ecc71;
        opacity: 0.7;
      }

      .task-item.high-priority {
        border-left-color: #ff4757;
      }

      .task-item.medium-priority {
        border-left-color: #ffa502;
      }

      .task-badge {
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 0.8em;
        font-weight: bold;
      }

      .badge-high {
        background: #ff4757;
        color: white;
      }

      .badge-medium {
        background: #ffa502;
        color: white;
      }

      .badge-low {
        background: #2ecc71;
        color: white;
      }
    </style>
  </head>
  <body>
    <main class="container">
      <h1><i class="fas fa-rocket"></i> Arrays & Objects in Action</h1>

      <!-- Example 1: Shopping Cart with Array of Objects -->
      <section class="example-box">
        <h2>
          <i class="fas fa-box"></i> Example 1: Shopping Cart (Array of Objects
          + map, filter, reduce)
        </h2>

        <div class="product-grid" id="productGrid"></div>

        <div class="cart-section">
          <h3><i class="fas fa-shopping-cart"></i> Your Cart</h3>
          <div id="cartItems"></div>
          <div class="cart-total" id="cartTotal">Total: $0</div>
        </div>
      </section>

      <!-- Example 2: User Management with Objects -->
      <section class="example-box">
        <h2>
          <i class="fas fa-users"></i> Example 2: User Dashboard (Object
          Manipulation & Destructuring)
        </h2>

        <form class="user-form" id="userForm">
          <input type="text" id="userName" placeholder="Name" required />
          <input type="email" id="userEmail" placeholder="Email" required />
          <input type="number" id="userAge" placeholder="Age" required />
          <select title="User" id="userRole">
            <option value="user">User</option>
            <option value="admin">Admin</option>
            <option value="moderator">Moderator</option>
          </select>
          <button type="submit">Add User</button>
        </form>

        <div class="user-cards" id="userCards"></div>
      </section>

      <!-- Example 3: Task Filter with Array Methods -->
      <section class="example-box">
        <h2>
          <i class="fas fa-check"></i> Example 3: Task Filter (filter, find,
          forEach)
        </h2>

        <div class="filter-section">
          <button class="filter-btn active" data-filter="all">All Tasks</button>
          <button class="filter-btn" data-filter="active">Active</button>
          <button class="filter-btn" data-filter="completed">Completed</button>
          <button class="filter-btn" data-filter="high">High Priority</button>
        </div>

        <ul class="task-list" id="taskList"></ul>
      </section>
    </main>

    <script>
      // ========================================
      // EXAMPLE 1: SHOPPING CART
      // ========================================

      // Array of product objects
      const products = [
        { id: 1, name: "Laptop", price: 999, icon: "fas fa-laptop" },
        { id: 2, name: "Mouse", price: 29, icon: "fas fa-mouse-pointer" },
        { id: 3, name: "Keyboard", price: 79, icon: "fas fa-keyboard" },
        { id: 4, name: "Monitor", price: 299, icon: "fas fa-desktop" },
        { id: 5, name: "Headphones", price: 149, icon: "fas fa-headphones" },
        { id: 6, name: "Webcam", price: 89, icon: "fas fa-video" },
      ];

      let cart = []; // Empty array to store cart items

      // Display products using map() and forEach()
      function displayProducts() {
        const productGrid = document.getElementById("productGrid");

        // map() transforms each product into HTML
        const productHTML = products
          .map(
            (product) => `
                <div class="product-card">
                    <i class="${product.icon}" style="font-size: 3em;"></i>
                    <h3>${product.name}</h3>
                    <div class="price">$${product.price}</div>
                    <button onclick="addToCart(${product.id})">Add to Cart</button>
                </div>
            `
          )
          .join(""); // join() converts array to string

        productGrid.innerHTML = productHTML;
      }

      // Add item to cart using find()
      function addToCart(productId) {
        // find() searches for product with matching id
        const product = products.find((p) => p.id === productId);

        // Check if product already in cart
        const existingItem = cart.find((item) => item.id === productId);

        if (existingItem) {
          existingItem.quantity += 1; // Increase quantity
        } else {
          // Spread operator creates new object with quantity
          cart.push({ ...product, quantity: 1 });
        }

        updateCart();
      }

      // Remove from cart using filter()
      function removeFromCart(productId) {
        // filter() keeps all items except the one we want to remove
        cart = cart.filter((item) => item.id !== productId);
        updateCart();
      }

      // Update cart display
      function updateCart() {
        const cartItems = document.getElementById("cartItems");

        if (cart.length === 0) {
          cartItems.innerHTML = "<p>Your cart is empty</p>";
        } else {
          // forEach() loops through cart items
          cartItems.innerHTML = cart
            .map(
              (item) => `
                    <div class="cart-item">
                        <span><i class="${item.icon}"></i> ${item.name} x ${
                item.quantity
              }</span>
                        <span>
                            $${item.price * item.quantity}
                            <button onclick="removeFromCart(${
                              item.id
                            })">Remove</button>
                        </span>
                    </div>
                `
            )
            .join("");
        }

        // reduce() calculates total price
        const total = cart.reduce((sum, item) => {
          return sum + item.price * item.quantity;
        }, 0); // 0 is initial value

        document.getElementById("cartTotal").textContent = `Total: $${total}`;
      }

      // ========================================
      // EXAMPLE 2: USER MANAGEMENT
      // ========================================

      let users = [
        {
          id: 1,
          name: "Lokesh",
          email: "lokesh@example.com",
          age: 28,
          role: "admin",
        },
        {
          id: 2,
          name: "Purvesh",
          email: "purvesh@example.com",
          age: 24,
          role: "user",
        },
      ];

      // Add user using object creation
      document
        .getElementById("userForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          // Object destructuring from form values
          const name = document.getElementById("userName").value;
          const email = document.getElementById("userEmail").value;
          const age = document.getElementById("userAge").value;
          const role = document.getElementById("userRole").value;

          // Create new user object
          const newUser = {
            id: users.length + 1,
            name: name,
            email: email,
            age: parseInt(age),
            role: role,
          };

          // push() adds to array
          users.push(newUser);
          displayUsers();

          // Reset form
          this.reset();
        });

      // Display users using destructuring
      function displayUsers() {
        const userCards = document.getElementById("userCards");

        userCards.innerHTML = users
          .map((user) => {
            // Destructuring object properties
            const { id, name, email, age, role } = user;

            return `
                    <div class="user-card">
                        <h3>${name}</h3>
                        <p><i class="fas fa-envelope"></i> ${email}</p>
                        <p><i class="fas fa-birthday-cake"></i> Age: ${age}</p>
                        <p><i class="fas fa-user"></i> Role: ${role}</p>
                        <button onclick="deleteUser(${id})">Delete</button>
                    </div>
                `;
          })
          .join("");
      }

      // Delete user using filter()
      function deleteUser(userId) {
        users = users.filter((user) => user.id !== userId);
        displayUsers();
      }

      // ========================================
      // EXAMPLE 3: TASK FILTER
      // ========================================

      const tasks = [
        {
          id: 1,
          title: "Complete project proposal",
          completed: false,
          priority: "high",
        },
        {
          id: 2,
          title: "Review code changes",
          completed: true,
          priority: "medium",
        },
        {
          id: 3,
          title: "Update documentation",
          completed: false,
          priority: "low",
        },
        {
          id: 4,
          title: "Fix critical bug",
          completed: false,
          priority: "high",
        },
        { id: 5, title: "Team meeting", completed: true, priority: "medium" },
        {
          id: 6,
          title: "Write unit tests",
          completed: false,
          priority: "medium",
        },
      ];

      let currentFilter = "all";

      // Display tasks with filter()
      function displayTasks() {
        let filteredTasks = tasks;

        // filter() returns only tasks that match condition
        if (currentFilter === "active") {
          filteredTasks = tasks.filter((task) => !task.completed);
        } else if (currentFilter === "completed") {
          filteredTasks = tasks.filter((task) => task.completed);
        } else if (currentFilter === "high") {
          filteredTasks = tasks.filter((task) => task.priority === "high");
        }

        const taskList = document.getElementById("taskList");

        taskList.innerHTML = filteredTasks
          .map((task) => {
            const priorityClass = task.completed
              ? "completed"
              : `${task.priority}-priority`;
            const badgeClass = `badge-${task.priority}`;

            return `
                    <li class="task-item ${priorityClass}">
                        <span>
                            ${
                              task.completed
                                ? '<i class="fas fa-check-circle"></i>'
                                : '<i class="fas fa-circle"></i>'
                            } ${task.title}
                        </span>
                        <span class="task-badge ${badgeClass}">${
              task.priority
            }</span>
                    </li>
                `;
          })
          .join("");
      }

      // Filter button handling
      document.querySelectorAll(".filter-btn").forEach((btn) => {
        btn.addEventListener("click", function () {
          // Remove active class from all buttons
          document.querySelectorAll(".filter-btn").forEach((b) => {
            b.classList.remove("active");
          });

          // Add active class to clicked button
          this.classList.add("active");

          // Update filter and display
          currentFilter = this.dataset.filter;
          displayTasks();
        });
      });

      // Initialize all examples
      displayProducts();
      updateCart();
      displayUsers();
      displayTasks();
    </script>
  </body>
</html>
